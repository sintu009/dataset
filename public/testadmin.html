<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div style="padding:20px" class="col-sm-7">
        <h2>Contact Form</h2>
        <form id="contactForm">
            <div class="row cont-row">
                <div class="col-sm-3"><label>Enter Name </label><span>:</span></div>
                <div class="col-sm-8"><input type="text" placeholder="Enter Name" name="name"
                        class="form-control input-sm"></div>
            </div>
            <div class="row cont-row">
                <div class="col-sm-3"><label>Email Address </label><span>:</span></div>
                <div class="col-sm-8"><input type="text" name="email" placeholder="Enter Email Address"
                        class="form-control input-sm"></div>
            </div>
            <div class="row cont-row">
                <div class="col-sm-3"><label>Mobile Number</label><span>:</span></div>
                <div class="col-sm-8"><input type="text" name="mobile" placeholder="Enter Mobile Number"
                        class="form-control input-sm"></div>
            </div>
            <div class="row cont-row">
                <div class="col-sm-3"><label>Enter Message</label><span>:</span></div>
                <div class="col-sm-8">
                    <textarea rows="5" placeholder="Enter Your Message" name="message"
                        class="form-control input-sm"></textarea>
                </div>
            </div>
        </form>
        <button id="submitBtn" class="btn btn-primary btn-sm">Send Message</button>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="panel panel-success">
            <div class="panel-heading">Contact Form Data</div>
            <div class="panel-body">
                <div class="table-responsive">
                    <table id="formData" class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Enter Name</th>
                                <th>Email Address</th>
                                <th>Mobile Number</th>
                                <th>Enter Message</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be inserted here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to save form data to localStorage
        function saveFormData(formData) {
            let data = localStorage.getItem('formData');
            if (!data) {
                data = [];
            } else {
                data = JSON.parse(data);
            }
            data.push(formData);
            localStorage.setItem('formData', JSON.stringify(data));
        }

        // Function to load form data from localStorage and display in table
        function loadFormData() {
            const data = localStorage.getItem('formData');
            if (data) {
                const formData = JSON.parse(data);
                const tableBody = document.querySelector('#formData tbody');
                tableBody.innerHTML = '';
                formData.forEach((entry, index) => {
                    const row = `<tr>
                                    <td>${index + 1}</td>
                                    <td>${entry.name}</td>
                                    <td>${entry.email}</td>
                                    <td>${entry.mobile}</td>
                                    <td>${entry.message}</td>
                                </tr>`;
                    tableBody.insertAdjacentHTML('beforeend', row);
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            loadFormData();

            document.querySelector('#submitBtn').addEventListener('click', function (event) {
                event.preventDefault();
                const formData = Object.fromEntries(new FormData(document.getElementById('contactForm')));
                saveFormData(formData);
                loadFormData();
                document.getElementById('contactForm').reset();
            });
        });
    </script>
</body>

</html>